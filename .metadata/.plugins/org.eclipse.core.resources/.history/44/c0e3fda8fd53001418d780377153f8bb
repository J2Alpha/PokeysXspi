/*
 * piperag.h
 *
 *  Created on: 15 okt. 2014
 *      Author: J2Alpha
 */

#ifndef PIPERAG_H_
#define PIPERAG_H_

#include <windows.h>
#include <stdio.h>
#include <conio.h>
#include <tchar.h>
#include <array>

//pipe stuff
#define BUFSIZE 512

extern LPTSTR lpvMessage=TEXT("Default message from client.");
extern HANDLE hPipe;
extern LPTSTR lpvMessage=TEXT("Default message from client.");
extern TCHAR  chBuf[BUFSIZE];
extern BOOL   fSuccess = FALSE;
extern DWORD  cbRead, cbToWrite, cbWritten, dwMode;
extern LPTSTR lpszPipename = TEXT("\\\\.\\pipe\\mynamedpipe");

int commencepiping(void);
int setpipemode(DWORD moderequest);
int pipe_stuff(LPTSTR message);
int pipe_smoke(TCHAR *buffer);
void pipe_extinguish(void);
#endif /* PIPERAG_H_ */
